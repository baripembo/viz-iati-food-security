(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{328:function(t,e,r){"use strict";r(17),r(77),r(78),r(13),r(33),r(34);var n={name:"DataDownloadButton",components:{},props:["type","filterParams","selectedFilterDimension"],data:function(){return{}},computed:{filePath:function(){return"https://data.humdata.org/dataset/iati-covid19-funding"},isProd:function(){return this.$store.state.isProd}},methods:{downloadAllData:function(){this.$mixpanelTrackLink(this.filePath,"download all data"),window.open(this.filePath)},downloadFilteredData:function(t){var param="*"===this.filterParams[this.selectedFilterDimension]?null:this.filterParams[this.selectedFilterDimension],e=this.selectedFilterDimension.split("#")[1];"flows"===this.type&&e.includes("org")&&(e="org+id");var r="off"!==this.filterParams.humanitarian,n="off"!==this.filterParams.strict,o="flows"===this.type?this.proxyLinkFlows(param,e,r,n):this.proxyLinkTransactions(param,e,r,n);this.$mixpanelTrackLink(o,"download filtered data"),window.open(o)},checkToken:function(t,e,r){if(!e.includes(t))throw new Error("Bad "+r+": "+t+". Expected one of "+String(e))},proxyLinkTransactions:function(t,e,r,n){var o={url:"https://ocha-dap.github.io/hdx-scraper-iati-viz/foodsecurity/transactions.csv"};return null!==t&&(this.checkToken(e,["org+id","country","sector"],"selection type"),o.filter01="select",o["select-query01-01"]=e+"="+t),r&&(o.filter02="select",o["select-query02-01"]="indicator+humanitarian=1"),n&&(o.filter03="select",o["select-query03-01"]="indicator+strict=1"),o.filter04="count",o["count-tags04"]="date+month,org+id,org+name,org+type,sector,country,activity+code,x_transaction_type",o["count-header04-01"]="Net money (USD)",o["count-type04-01"]="sum",o["count-pattern04-01"]=o["count-column04-01"]="#value+net",o["count-header04-02"]="Total money (USD)",o["count-type04-02"]="sum",o["count-pattern04-02"]=o["count-column04-02"]="#value+total",o.filter05="select",o["select-query05-01"]="value>0",o.filter06="sort",o["sort-tags06"]="date+month,org+name,x_transaction_type,value+total","https://proxy.hxlstandard.org/data?"+new URLSearchParams(o).toString()},proxyLinkFlows:function(t,e,r){var n={url:"https://ocha-dap.github.io/hdx-scraper-iati-viz/foodsecurity/flows.csv"};return null!==t&&(n.filter01="select",n["select-query01-01"]="org+id+reporting="+t),e&&(n.filter02="select",n["select-query02-01"]="indicator+humanitarian=1"),r&&(n.filter03="select",n["select-query03-01"]="indicator+strict=1"),n.filter04="count",n["count-tags04"]="org+id+reporting,org+name+reporting,org+reporting+type,org+id+provider,org+name+provider,org+provider+type,org+id+receiver,org+name+receiver,org+receiver+type,x_transaction_direction",n["count-header04-01"]="Total money (USD)",n["count-type04-01"]="sum",n["count-pattern04-01"]=n["count-column04-01"]="#value+total",n.filter05="select",n["select-query05-01"]="value>0",n.filter06="sort",n["sort-tags06"]="value+total",n["sort-reverse06"]="on","https://proxy.hxlstandard.org/data?"+new URLSearchParams(n).toString()}}},o=r(41),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-dropdown",{staticClass:"download-button",attrs:{id:"downloadDropdown",text:"Download Data",block:"",variant:"outline-dark"},on:{click:function(e){return t.onClick(e)}}},[r("b-dropdown-item",{on:{click:function(e){return t.downloadFilteredData()}}},[t._v("\n      View filtered data\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},333:function(t,e,r){var content=r(347);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(40).default)("6476f70f",content,!0,{sourceMap:!1})},334:function(t,e,r){var content=r(349);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(40).default)("e402c668",content,!0,{sourceMap:!1})},335:function(t,e,r){var content=r(351);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(40).default)("46ce1893",content,!0,{sourceMap:!1})},346:function(t,e,r){"use strict";r(333)},347:function(t,e,r){var n=r(39)(!1);n.push([t.i,".badges{display:flex;justify-content:space-between}#sankeyChart{height:400px;width:100%}.node rect{cursor:move;fill-opacity:.9;shape-rendering:crispEdges}.node text{pointer-events:none;text-shadow:0 1px 0 #fff}.link{fill:none;stroke:#000;stroke-opacity:.3}.linkHover{stroke-opacity:.5}.linkText{fill:#000;text-shadow:1px 1px 3px #fff;cursor:default}",""]),t.exports=n},348:function(t,e,r){"use strict";r(334)},349:function(t,e,r){var n=r(39)(!1);n.push([t.i,".chart[data-v-6ad68780]{width:100%;height:500px}",""]),t.exports=n},350:function(t,e,r){"use strict";r(335)},351:function(t,e,r){var n=r(39)(!1);n.push([t.i,"abbr[data-original-title],abbr[title]{text-decoration:none;cursor:auto}@media only screen and (max-width:992px){.iati-viz h2.header .badge.info-icon.badge-pill{width:14px}}",""]),t.exports=n},368:function(t,e,r){"use strict";r.r(e);r(2),r(4),r(5);var n=r(21),o=r(0),l=r(22),c=r(20),d=(r(63),r(330),r(43),r(13),r(42),r(8),r(3),r(1),r(81),r(10),r(73)),f=r.n(d),h=r(332),v=r.n(h),m=r(327),y=r.n(m),x=r(53),_=(r(78),r(77),r(14),r(366)),k=r(362),w={name:"SankeyChart",props:["chartData"],data:function(){return{maximumVisibleItems:10,chart:null,width:10,height:10,selectedLink:null,colors:["#418FDE","#E56A54","#ECA154","#E2E868","#A4D65E","#71DBD4","#9063CD","#D3BC8D","#82B5E9","#EFA497","#F4C799","#C6E69B","#AEEAE6","#418FDE","#E56A54","#ECA154","#E2E868","#A4D65E","#71DBD4","#9063CD","#D3BC8D","#82B5E9","#EFA497","#F4C799"]}},computed:{tooltips:function(){return this.$store.state.tooltips},nodes:function(){return this.sankey.nodes},links:function(){return this.sankey.links},maxNodeDepth:function(){var t=this.sankey.nodes.map((function(t){return t.depth}));return Math.max.apply(Math,Object(c.a)(t))},sankey:function(){var t=this.chartData.nodes,e=this.chartData.links,r=Object(k.a)().nodeId((function(t){return t.name})).nodeWidth(20).nodePadding(8).extent([[1,5],[this.width-1,this.height-10]]);return r({nodes:t.map((function(t){return Object.assign({},t)})),links:e.map((function(t){return Object.assign({},t)}))})},sankeyLinkPaths:function(){return Object(k.b)()}},mounted:function(){this.makeChart(),window.addEventListener("resize",this.onResize),this.onResize()},methods:{truncate:function(t){return t.length>50&&(t=t.substr(0,50)+"..."),t},mouseoverLink:function(t){this.selectedLink=t},mouseleaveLink:function(t){this.selectedLink=null},sankeyLinkPath:function(t){return this.sankeyLinkPaths(t)},numberFormatter:function(t){return 0===t?"0":t?y()(t).format("$0,0"):""},labelXPosition:function(link){return this.maxNodeDepth<2?link.source.x1+(link.target.x0-link.source.x1)/2:link.source.x1>this.width/2?link.source.x1+6:link.target.x0-6},labelYPosition:function(link){if(this.maxNodeDepth<2)return(link.y1+link.y0)/2;var t=link.source.x1>this.width/2,e=t?link.y0:link.y1;return e=Math.abs(e-this.height/2)<15&&t?e-15:e},labelAnchor:function(link){return this.maxNodeDepth<2?"middle":link.source.x1>this.width/2?"start":"end"},color:function(t){return"» (unspecified org)"===t.name?"#999":this.colors[t.index]},makeChart:function(){Object(_.a)("#sankeyChart").append("svg").attr("width",this.width).attr("height",this.height)},onResize:function(){this.width=this.$el.offsetWidth,this.height=500}}},D=(r(346),r(41)),O={components:{SankeyChart:Object(D.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"badges"},[r("div",[r("b-badge",{attrs:{variant:"dark"}},[t._v("\n        Provider Org\n      ")]),t._v(" "),r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"info-icon p-0",attrs:{variant:"dark",pill:"",title:t.tooltips.sankeyProviderLabel}},[t._v("\n        ?\n      ")])],1),t._v(" "),r("div",[t.maxNodeDepth>1?r("b-badge",{attrs:{variant:"dark"}},[t._v("\n        Reporting Org\n      ")]):t._e()],1),t._v(" "),r("div",[r("b-badge",{attrs:{variant:"dark"}},[t._v("\n        Receiver Org\n      ")]),t._v(" "),r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"info-icon p-0",attrs:{variant:"dark",pill:"",title:t.tooltips.sankeyReceiverLabel}},[t._v("\n        ?\n      ")])],1)]),t._v(" "),r("div",{ref:"sankeyChart",attrs:{id:"sankeyChart"}},[r("svg",{attrs:{width:t.width,height:t.height}},[r("pattern",{attrs:{id:"diagonalHatch",width:"10",height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"}},[r("line",{staticStyle:{stroke:"black","stroke-width":"1"},attrs:{x1:"0",y1:"0",x2:"0",y2:"10"}})]),t._v(" "),r("g",t._l(t.nodes,(function(e){return r("rect",t._b({key:e.index,staticClass:"node",attrs:{x:e.x0,y:isNaN(e.y0)?0:e.y0,height:isNaN(e.y1)||isNaN(e.y0)?0:Math.max(e.y1-e.y0,0),width:e.x1-e.x0,fill:"» (unspecified org)"==e.name?"url(#diagonalHatch)":t.color(e)}},"rect",t.nodes,!1))})),0),t._v(" "),r("g",t._l(t.links,(function(link){return r("g",t._b({key:link.index,class:t.selectedLink==link.index?"link linkHover":"link",staticStyle:{"mix-blend-mode":"multiply"},attrs:{id:"link-"+link.index}},"g",t.links,!1),[r("linearGradient",{attrs:{id:link.index+"-gradient",x1:link.source.x1,x2:link.target.x0,gradientUnits:"userSpaceOnUse"}},[r("stop",{attrs:{"stop-color":t.color(link.source),offset:"0%"}}),t._v(" "),r("stop",{attrs:{"stop-color":t.color(link.target),offset:"100%"}})],1),t._v(" "),r("path",{attrs:{d:t.sankeyLinkPaths(link),stroke:"url(#"+link.index+"-gradient)","stroke-width":Math.max(1,link.width)},on:{mouseover:function(e){return t.mouseoverLink(link.index)},mouseleave:function(e){return t.mouseleaveLink(link.index)}}})],1)})),0),t._v(" "),r("g",{attrs:{"font-family":"sans-serif","font-size":"12"}},t._l(t.nodes,(function(e){return r("text",t._b({key:e.index,attrs:{x:e.x0<t.width/2?e.x1+6:e.x0-6,y:isNaN(e.y1)||isNaN(e.y1)?0:(e.y1+e.y0)/2,"text-anchor":e.x0<t.width/2?"start":"end",dy:"0.35em"}},"text",t.nodes,!1),[t._v("\n          "+t._s(t.truncate(e.name))+"\n          "),r("title",[t._v(t._s(e.name))])])})),0),t._v(" "),r("g",{attrs:{"font-family":"sans-serif","font-size":"12"}},t._l(t.links,(function(link){return r("g",t._b({key:link.index+"-label",staticClass:"linkText",style:t.selectedLink==link.index?"display: block;":"display: none;",on:{mouseover:function(e){return t.mouseoverLink(link.index)},mouseleave:function(e){return t.mouseleaveLink(link.index)}}},"g",t.links,!1),[r("text",{attrs:{x:t.labelXPosition(link),y:isNaN(link.y0)||isNaN(link.y1)?0:t.labelYPosition(link),width:link.width,dy:"0.35em","text-anchor":t.labelAnchor(link)}},[t._v("\n            USD "+t._s(t.numberFormatter(link.value))+"\n          ")])])})),0)])])])}),[],!1,null,null,null).exports},props:["items","params"],data:function(){return{maximumVisibleItems:10}},computed:{orgNameIndex:function(){return this.$store.state.orgNameIndex},chartData:function(){var t=this,e=function(t){if(void 0===t)return t;return["USAID redacted this field in accordance with the Principled Exceptions outlined in the Office of Management and Budget Bulletin 12-01.","USAID redacted this field in accordance with the exceptions outlined in the Foreign Aid Transparency and Accountability Act of 2016."].includes(t)?"Redacted":t},r=function(r,n){return"outgoing".includes(n)?"".concat(e(r["#org+name+provider"])||e(t.getOrgName(r["#org+id+reporting"]))||"UNKNOWN"," »"):"".concat(e(r["#org+name+provider"]))},n=function(r,n){return"outgoing".includes(n)?"» ".concat(e(r["#org+name+receiver"])):"".concat(e(t.getOrgName(r["#org+id+reporting"]))," »")},o=Object(c.a)(this.items).sort((function(a,b){return a["#value+total"]>b["#value+total"]?-1:1}));return{nodes:o.reduce((function(summary,t){var e=r(t,t["#x_transaction_direction"]),o=n(t,t["#x_transaction_direction"]);return summary.includes(e)||summary.push(e),summary.includes(o)||summary.push(o),summary}),[]).map((function(t){return{name:t}})),links:o.map((function(t){return{source:r(t,t["#x_transaction_direction"]),target:n(t,t["#x_transaction_direction"]),value:Math.round(t["#value+total"])}}))}}},methods:{getOrgName:function(t){var e=this.orgNameIndex.filter((function(e){return e["#org+id+reporting"]===t}));return void 0!==e[0]?e[0]["#org+name+reporting"]:""}}};r(348);function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var P={components:{SankeyChart:Object(D.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.chartData.links.length>0?[r("div",{staticClass:"chart"},[r("client-only",[r("sankey-chart",{attrs:{"chart-data":t.chartData}})],1)],1)]:[r("b-alert",{staticClass:"text-muted text-center",attrs:{show:"",variant:"warning"}},[t._v("\n      No flows match the filters you've chosen\n    ")])]],2)}),[],!1,null,"6ad68780",null).exports,DownloadDataButton:r(328).a},data:function(){return{title:x.a.head.title,selectedFilterDimension:"#org+id+reporting",selectedFilter:"*",selectedFilterLabel:"",strictToggleOptions:[{label:"Loose",value:"off"},{label:"Strict",value:"on"}],humanitarianToggleOptions:[{label:"No",value:"off"},{label:"Yes",value:"on"}],activityCount:0,fullData:[],filteredData:[],filterParams:{},orgNameIndex:[],lastUpdatedDate:"",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},head:function(){return{title:x.a.head.title+": Spending Flows"}},computed:{isBusy:function(){return 0===this.fullData.length},tooltips:function(){return this.$store.state.tooltips},isProd:function(){return this.$store.state.isProd},reportingOrgs:function(){var t=this,e=Object(c.a)(new Set(this.fullData.map((function(t){return t["#org+id+reporting"]}))));return e=e.map((function(e){var r={};return r.value=e,r.text=t.getOrgName(e),r})),this.populateSelect(e,"All reporting organizations")},orgCount:function(){return Object(c.a)(new Set(this.fullData.map((function(t){return t["#org+id+reporting"]})))).length}},updated:function(){this.createStickyHeader()},mounted:function(){var t=this;this.filterParams={humanitarian:"off",strict:"off"},this.filterParams["#org+id+reporting"]=this.selectedFilter;f.a.get("https://raw.githubusercontent.com/OCHA-DAP/hdx-scraper-iati-viz/gh-pages/foodsecurity/reporting_orgs.json").then((function(e){t.orgNameIndex=e.data.data,t.$store.commit("setorgNameIndex",e.data.data),t.$nextTick((function(){"org"in t.$route.query&&(t.filterParams["#org+id+reporting"]=t.selectedFilter=t.$route.query.org,t.selectedFilterLabel=t.getOrgName(t.$route.query.org)),"humanitarian"in t.$route.query&&(t.filterParams.humanitarian=t.$route.query.humanitarian),"strict"in t.$route.query&&(t.filterParams.strict=t.$route.query.strict),t.loadData()}))}))},methods:{loadData:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.a.dev?"":"/viz-iati-food-security/",n="https://raw.githubusercontent.com/OCHA-DAP/hdx-scraper-iati-viz/gh-pages/foodsecurity/flows.json",e.next=4,f.a.get(r+"tooltips.csv").then((function(e){return v()().fromString(e.data).then((function(e){t.$store.commit("setTooltips",e)}))}));case 4:return e.next=6,f.a.get(n).then((function(e){var r=e.data.metadata,n=new Date(r["#date+run"]),o=t.months[n.getMonth()]+" "+n.getDate()+", "+n.getFullYear();if(t.lastUpdatedDate=o,t.fullData=e.data.data,t.updateFilteredData(),Object.keys(t.$route.query).length<1){var l=t.orgCount;t.selectedFilterLabel=l+" reporting organizations"}}));case 6:case"end":return e.stop()}}),e)})))()},urlQuery:function(){var t={};return"*"!==this.filterParams["#org+id+reporting"]&&(t.org=this.filterParams["#org+id+reporting"]),"off"!==this.filterParams.humanitarian&&(t.humanitarian=this.filterParams.humanitarian),"off"!==this.filterParams.strict&&(t.strict=this.filterParams.strict),t},updateRouter:function(){this.$router.push({name:"spending_flows",query:this.urlQuery()})},updateFilteredData:function(){this.filteredData=this.filterData(),this.updateRouter()},filterData:function(){var t=this.fullData.map((function(i){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},i)})),e=this.filterParams,r=this.selectedFilterDimension;return e[r]&&"*"!==e[r]&&(t=t.filter((function(t){return t[r]===e[r]}))),"on"===e.humanitarian&&(t=t.filter((function(t){return 1===t["#indicator+bool+humanitarian"]}))),"on"===e.strict&&(t=t.filter((function(t){return 1===t["#indicator+bool+strict"]}))),"off"!==e.humanitarian&&"off"!==e.strict||(t=this.aggregateFlows(t)),this.activityCount=t.length,t=this.partitionData(t)},aggregateFlows:function(data){return data.reduce((function(t,e){var pattern="incoming"===e["#x_transaction_direction"]?"#org+name+provider":"#org+name+receiver",r=t.find((function(a){return""!==a[pattern]&&a["#org+id+reporting"]===e["#org+id+reporting"]&&a[pattern]===e[pattern]}));return r?r["#value+total"]+=e["#value+total"]:t.push(e),t}),[])},partitionData:function(data){var t=data.reduce((function(t,element){return t["incoming"===element["#x_transaction_direction"]?0:1].push(element),t}),[[],[]]),e=Object(n.a)(t,2),r=e[0],o=e[1];return r=this.formatData(r),o=this.formatData(o),r.concat(o)},formatData:function(t){return t.sort((function(a,b){return a["#value+total"]>b["#value+total"]?-1:1})).slice(0,10)},onSelect:function(t){this.selectedFilter=t,this.filterParams[this.selectedFilterDimension]=t,this.selectedFilterLabel="*"!==t?this.getOrgName(t):this.orgCount+" reporting organizations",this.updateFilteredData()},onToggle:function(t){this.filterParams[t.target.parentElement.id]=t.target.value,this.updateFilteredData()},populateSelect:function(data,t){var e=data.reduce((function(t,e){return t.push({value:e.value,text:e.text}),t}),[]).sort((function(a,b){return a.text<b.text?-1:1}));return e.unshift({value:"*",text:t}),e},getOrgName:function(t){var e=this.orgNameIndex.filter((function(e){return e["#org+id+reporting"]===t}));return void 0!==e[0]?e[0]["#org+name+reporting"]:""},getOrgID:function(t){return this.orgNameIndex.filter((function(e){return e["#org+name+reporting"]===t}))[0]["#org+id+reporting"]},numberFormatter:function(t){return 0===t?"0":t?y()(t).format("0,0"):""},createStickyHeader:function(){var t=document.getElementsByClassName("header-sticky")[0];this.loaded||void 0===t||(this.loaded=!0,new IntersectionObserver((function(t){var e=Object(n.a)(t,1)[0];return e.target.classList.toggle("is-stuck",e.intersectionRatio<1)}),{threshold:[1]}).observe(t))},scrollTo:function(t){var e=this.$refs[t].offsetTop-100;window.scrollTo(0,e)}}},N=P,F=(r(350),Object(D.a)(N,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isBusy?[r("div",{staticClass:"custom-loader text-center text-secondary mt-5"},[r("b-spinner",{staticClass:"align-middle"}),t._v(" "),r("strong",[t._v("Loading...")])],1)]:t._e(),t._v(" "),t.isBusy?t._e():[r("hr",{staticClass:"mt-4 mb-0"}),t._v(" "),r("div",{staticClass:"header-sticky"},[r("div",{staticClass:"container"},[r("h2",[t.activityCount>t.filteredData.length?r("span",[t._v("Top "),r("b",[t._v(t._s(t.filteredData.length))]),t._v(" of ")]):t._e(),r("b",[t._v(t._s(t.numberFormatter(t.activityCount)))]),t._v(" "),t.filteredData.length>1||0===t.filteredData.length?r("span",[t._v("spending flows")]):r("span",[t._v("spending flow")]),t._v(" reported by "),r("b",[t._v(t._s(t.selectedFilterLabel))])]),t._v(" "),r("a",{staticClass:"anchor",on:{click:function(e){return t.scrollTo("filters")}}},[t._v("Customize filters")])])]),t._v(" "),r("hr",{staticClass:"mt-0 mb-4"}),t._v(" "),r("b-container",[r("b-row",{ref:"filters"},[r("b-col",{attrs:{cols:"12",lg:"7"}},[r("h3",[t._v("\n            Reporting organization\n            "),r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"info-icon p-0",attrs:{variant:"dark",pill:"",title:t.tooltips.reportingOrg}},[t._v("\n              ?\n            ")])],1),t._v(" "),r("v-select",{staticClass:"filter-select filter-select-org mb-3",attrs:{value:t.selectedFilter,options:t.reportingOrgs,"get-option-key":function(option){return option.value},"get-option-label":function(option){return option.text},reduce:function(option){return option.value}},on:{input:t.onSelect},scopedSlots:t._u([{key:"search",fn:function(e){var n=e.attributes,o=e.events;return[r("input",t._g(t._b({staticClass:"vs__search",attrs:{placeholder:"Type organization name here"}},"input",n,!1),o))]}}],null,!1,2633457986)})],1),t._v(" "),r("b-col",[r("b-row",[r("b-col",[t._v("\n              Filter for COVID-19 related flows\n              "),r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"info-icon p-0",attrs:{variant:"dark",pill:"",title:t.tooltips.flowsCOVID}},[t._v("\n                ?\n              ")]),t._v(":\n            ")],1),t._v(" "),r("b-col",[r("b-button-group",{attrs:{id:"strict"}},t._l(t.strictToggleOptions,(function(e,n){return r("b-button",{key:n,class:{active:e.value===t.filterParams.strict},attrs:{value:e.value},on:{click:function(e){return t.onToggle(e)}}},[t._v("\n                  "+t._s(e.label)+"\n                ")])})),1)],1)],1),t._v(" "),r("hr",{staticClass:"my-3"}),t._v(" "),r("b-row",[r("b-col",[t._v("\n              Only show humanitarian flows\n              "),r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"info-icon p-0",attrs:{variant:"dark",pill:"",title:t.tooltips.flowsHumanitarian}},[t._v("\n                ?\n              ")]),t._v(":\n            ")],1),t._v(" "),r("b-col",[r("b-button-group",{attrs:{id:"humanitarian"}},t._l(t.humanitarianToggleOptions,(function(e,n){return r("b-button",{key:n,class:{active:e.value===t.filterParams.humanitarian},attrs:{value:e.value},on:{click:function(e){return t.onToggle(e)}}},[t._v("\n                  "+t._s(e.label)+"\n                ")])})),1)],1)],1),t._v(" "),r("hr",{staticClass:"my-3"}),t._v(" "),r("b-row",[r("b-col",{staticClass:"my-3",attrs:{cols:"12",md:"8"}},[r("DownloadDataButton",{attrs:{type:"flows","filter-params":t.filterParams,"selected-filter-dimension":t.selectedFilterDimension}})],1)],1)],1)],1),t._v(" "),r("h2",{staticClass:"header mt-3"},[t._v("\n        Spending Flows \n        "),r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"info-icon p-0",attrs:{variant:"dark",pill:"",title:t.tooltips.sankeyHeader}},[t._v("\n          ?\n        ")])],1),t._v(" "),r("SankeyChart",{attrs:{items:t.filteredData,params:t.filterParams}}),t._v(" "),r("div",{staticClass:"small text-muted mt-5 ml-4"},[t._v("\n        "+t._s(t.lastUpdatedDate)+" | IATI\n      ")]),t._v(" "),r("hr")],1)]],2)}),[],!1,null,null,null));e.default=F.exports}}]);